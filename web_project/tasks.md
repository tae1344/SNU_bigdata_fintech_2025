# 불륜 확률 시각화 프로젝트 — Tasks

## 1. 기획 & 데이터 준비

### 1.1 데이터 변수 정의 및 매핑

- [ ] `rate_marriage`, `age`, `yrs_married`, `children`, `religious`, `educ`, `occupation`, `occupation_husb`의 의미와 범위 정리
- [ ] UI 필터 입력값 ↔ 모델 변수 매핑표 작성
- [ ] 변수 범위 검증 규칙 정의 (예: 나이 18~80)
- [ ] 입력값 정규화 및 전처리 로직 정의

### 1.2 점수 계산 로직 설계

- [ ] 데이터셋 기반 로지스틱 회귀 계수 산출 또는 임의 가중치 설정
- [ ] `scoring.ts` 함수 설계 (입력 → 점수/확률)
- [ ] 영향 요인 상위 3개 산출 로직 정의
- [ ] 로지스틱 회귀 계수 β0, βi 값 정의
- [ ] p = 1 / (1 + e^-(β0 + Σ βi \* xi)) 공식 구현
- [ ] 영향 요인 계산: βi \* (xi - mean_i) 로직 구현
- [ ] 각 변수의 평균값(mean_i) 데이터셋에서 추출

### 1.3 UX 플로우 & 화면 기획

- [ ] 랜딩 → 입력 스텝 → 결과 → 비교/공유 흐름 확정
- [ ] 각 단계별 주요 컴포넌트 목록 작성
- [ ] 애니메이션 시나리오(확률→속도·거리 매핑) 기획
- [ ] 윤리적 고지사항 표시 위치 및 문구 기획

---

## 2. 디자인

### 2.1 와이어프레임 & 프로토타입

- [ ] 랜딩 페이지 와이어프레임 제작
- [ ] 필터 입력 UI(슬라이더, 드롭다운, 라디오) 와이어프레임 제작
- [ ] 결과 페이지(게이지, 영향 요인, 아바타 애니메이션) 와이어프레임 제작
- [ ] 비교 모드 UI 와이어프레임 제작
- [ ] 윤리 고지 문구 표시 위치 와이어프레임 제작

### 2.2 시각 디자인

- [ ] 아바타 파츠 리소스(헤어, 옷, 소품 등) 제작
- [ ] 게이지 차트 컬러 팔레트 선정 (중립 계열)
- [ ] 영향 요인 바 차트 스타일링
- [ ] 도망 애니메이션 모션 디자인 (Lottie/SVG 경로)
- [ ] 아바타 외형 매핑 테이블 작성 (age/children/occupation별)
- [ ] 아바타 파츠별 스타일 가이드 제작

---

## 3. 프론트엔드 개발

### 3.1 프로젝트 세팅

- [x] Next.js 15 + TypeScript 초기 세팅
- [x] TailwindCSS + shadcn/ui 적용
- [ ] 상태 관리 라이브러리(Zustand) 세팅
- [ ] ESLint + Prettier + Husky 구성
- [ ] 다국어 지원 설정 (한국어/영어)
- [ ] 다크모드 지원 설정

### 3.2 컴포넌트 구현

- [x] `FilterStepper` (다단계 입력 폼)
- [x] `GaugeChart` (게이지 차트, Recharts)
- [x] `ContributionsBar` (영향 요인 바 차트)
- [x] `AvatarPreview` (입력 값 → 아바타 외형 매핑)
- [x] `AvatarScene` (도망 애니메이션)
- [x] `ComparePanel` (시나리오 비교 뷰)
- [x] `ShareButtons` (링크/이미지 공유)
- [x] `EthicsNotice` (윤리 고지 문구 컴포넌트)
- [x] `InputValidation` (입력값 검증 및 에러 메시지)
- [x] `DynamicAvatar` (동적 아바타 생성 컴포넌트)

### 3.3 점수 로직

- [ ] `scoring.ts` 구현 (로지스틱 회귀/가중합)
- [ ] 영향 요인 계산 로직 구현
- [ ] 테스트 데이터 기반 점수 검증
- [ ] 각 변수별 기여도 계산 로직 구현
- [ ] 영향 요인 TOP3 절대값 기준 정렬 로직

### 3.4 애니메이션 구현

- [ ] Lottie/SVG 경로 애니메이션 연결
- [ ] 확률 값 → 이동 거리/속도/이펙트 강도 매핑
- [ ] 반응형 레이아웃에서 애니메이션 위치 보정
- [ ] Distance = 80 + 240 \* p 공식 구현
- [ ] Speed = 2000 - 1000 \* p 공식 구현
- [ ] Effect Level = 1 + floor(2 \* p) 공식 구현
- [ ] 애니메이션 성능 최적화 (requestAnimationFrame)

---

## 4. 비교/공유 기능

- [ ] 시나리오 저장(메모리/쿼리스트링)
- [ ] 두 시나리오 동시 표시
- [ ] html-to-image로 결과 캡처
- [ ] SNS 공유 메타태그(OG 이미지) 설정
- [ ] 변경된 값 하이라이트 표시
- [ ] 점수 변화 애니메이션
- [ ] 비교 결과 저장 및 공유 기능

---

## 5. 분석 & 품질

### 5.1 이벤트 트래킹

- [ ] GA4/Amplitude 이벤트 정의
- [ ] start, filters_complete, result_view, share, compare 이벤트 연결
- [ ] KPI 모니터링 시스템 구축
  - [ ] 평균 세션 길이 ≥ 2분 측정 로직
  - [ ] 공유율 ≥ 8% 추적 시스템
  - [ ] 완주율 ≥ 70% 분석 대시보드

### 5.2 테스트

- [ ] 유닛 테스트 (점수 계산, 영향 요인 로직)
- [ ] E2E 테스트 (Playwright) — 시나리오 완주
- [ ] 접근성 테스트 (ARIA 라벨, 키보드 내비게이션)
- [ ] 다국어 테스트 (한국어/영어)
- [ ] 다크모드 테스트
- [ ] 모바일 반응형 테스트

### 5.3 성능 최적화

- [ ] 이미지 최적화 (WebP, lazy loading)
- [ ] 애니메이션 성능 최적화
- [ ] 번들 크기 최적화
- [ ] Core Web Vitals 최적화

---

## 6. 배포 & 운영

- [ ] Vercel 배포
- [ ] 브라우저 호환성 테스트 (Chrome, Safari, Edge, 모바일)
- [ ] 초기 릴리즈 노트 작성
- [ ] 사용자 피드백 수집 폼 연결
- [ ] 성능 모니터링 시스템 구축
- [ ] 에러 추적 및 로깅 시스템 구축

---

## 7. 윤리적 고지사항 및 보안

### 7.1 윤리 고지 구현

- [ ] 모든 화면에 "오락/콘텐츠용" 고지 표시
- [ ] 민감 정보 저장 방지 로직 구현
- [ ] 개인정보 수집 금지 정책 적용
- [ ] 윤리 고지 문구 다국어 지원

### 7.2 데이터 보안

- [ ] 입력 데이터 로컬 저장만 허용
- [ ] 서버 전송 데이터 암호화
- [ ] 세션 데이터 자동 삭제
- [ ] 민감 정보 필터링 로직 구현
